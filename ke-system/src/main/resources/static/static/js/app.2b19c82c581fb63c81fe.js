webpackJsonp([1],{"+2zE":function(t,e){},Eh1z:function(t,e){},GecX:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),e("footer",{staticStyle:{position:"fixed",bottom:"0px",margin:"0 auto","text-align":"center",width:"100%","z-index":"-100",color:"lightgray"}},[this._v("免费使用,请勿商用")])],1)},staticRenderFns:[]};var a=s("VU/8")({name:"App",data:function(){return{}},methods:{}},i,!1,function(t){s("GecX")},null,null).exports,o=s("/ocq"),r={name:"main",data:function(){return{username:"",password:"",loginMessage:""}},methods:{login:function(){var t=this;this.util.Toastr.warning("2s后程序将进入自动登录操作,在成功登录之前,请勿进行任何操作!!!!!"),setTimeout(function(){t.toCurriculums()},2e3)},toCurriculums:function(){void 0!==this.username&&""!=this.username&&void 0!==this.password&&""!=this.password&&this.writeLocal(),this.$router.push({name:"curriculums",params:{username:this.username,password:this.password}})},init:function(){var t=this;this.util.Fetch.post(this.util.API.CHECKLOGIN).then(function(e){if(t.loginMessage=e,console.log(t.loginMessage),0==t.loginMessage.loginStatus){if(0==JSON.parse(t.loginMessage.data).retcode)return void t.$router.push({name:"curriculums",params:{loginMessage:t.loginMessage}})}else 1==t.loginMessage.loginStatus?t.util.Toastr.warning(t.loginMessage.msg):2==t.loginMessage.loginStatus&&t.util.Toastr.warning(t.loginMessage.msg)});var e=this.$route.params.msg,s=this.$route.params.msg;void 0!==e&&""!=e&&("0"==s?this.util.Toastr.success(e):"1"==s?this.util.Toastr.warning(e):"2"==s?this.util.Toastr.error(e):"2"==s?this.util.Toastr.info(e):this.util.Toastr.warning(e))},readLocal:function(){var t=this;this.util.Fetch.post(this.util.API.LOGINCACHE).then(function(e){if(null!=e)return t.username=e.username,void(t.password=e.password)}),null!=this.util.Local.getItem("username")&&(this.username=this.util.Local.getItem("username")),null!=this.util.Local.getItem("password")&&(this.password=this.util.Local.getItem("password"))},writeLocal:function(){this.util.Local.setItem("password",this.password),this.util.Local.setItem("username",this.username)}},created:function(){},mounted:function(){this.init()},watch:{}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-div",staticStyle:{margin:"6.25rem auto"},attrs:{id:"main"}},[s("div",{staticClass:"logo",style:"background-image: url(http://q1.qlogo.cn/g?b=qq&nk="+(""==t.username?"1":t.username)+"&s=100);"}),t._v(" "),s("div",{staticClass:"title"},[t._v("Ke Examine")]),t._v(" "),s("div",{staticClass:"sub-title"},[t._v("Beta 0.0.8")]),t._v(" "),s("div",{staticClass:"fields"},[s("div",{staticClass:"username"},[s("svg",{attrs:{fill:"#fff",viewBox:"0 0 1024 1024"}},[s("path",{staticClass:"path1",attrs:{d:"M896 307.2h-819.2c-42.347 0-76.8 34.453-76.8 76.8v460.8c0 42.349 34.453 76.8 76.8 76.8h819.2c42.349 0 76.8-34.451 76.8-76.8v-460.8c0-42.347-34.451-76.8-76.8-76.8zM896 358.4c1.514 0 2.99 0.158 4.434 0.411l-385.632 257.090c-14.862 9.907-41.938 9.907-56.802 0l-385.634-257.090c1.443-0.253 2.92-0.411 4.434-0.411h819.2zM896 870.4h-819.2c-14.115 0-25.6-11.485-25.6-25.6v-438.566l378.4 252.267c15.925 10.618 36.363 15.925 56.8 15.925s40.877-5.307 56.802-15.925l378.398-252.267v438.566c0 14.115-11.485 25.6-25.6 25.6z"}})]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"user-input",attrs:{type:"username",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"password"},[s("svg",{attrs:{fill:"#fff",viewBox:"0 0 1024 1024"}},[s("path",{staticClass:"path1",attrs:{d:"M742.4 409.6h-25.6v-76.8c0-127.043-103.357-230.4-230.4-230.4s-230.4 103.357-230.4 230.4v76.8h-25.6c-42.347 0-76.8 34.453-76.8 76.8v409.6c0 42.347 34.453 76.8 76.8 76.8h512c42.347 0 76.8-34.453 76.8-76.8v-409.6c0-42.347-34.453-76.8-76.8-76.8zM307.2 332.8c0-98.811 80.389-179.2 179.2-179.2s179.2 80.389 179.2 179.2v76.8h-358.4v-76.8zM768 896c0 14.115-11.485 25.6-25.6 25.6h-512c-14.115 0-25.6-11.485-25.6-25.6v-409.6c0-14.115 11.485-25.6 25.6-25.6h512c14.115 0 25.6 11.485 25.6 25.6v409.6z"}})]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"pass-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),s("button",{staticClass:"signin-button",on:{click:t.login}},[t._v("登录")]),t._v(" "),s("div",{staticClass:"link"},[s("a",{staticStyle:{"font-size":"1.5rem"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.readLocal(e)}}},[t._v("读取上一次输入")])])])},staticRenderFns:[]};var c=s("VU/8")(r,u,!1,function(t){s("Payv")},"data-v-d8bea516",null).exports,l=s("BO1k"),d=s.n(l),m=s("pFYg"),h=s.n(m),p={data:function(){return{intervalList:[],sendMsg:"",members:"",msgs:[],msgTemp:"",roomId:"",students:"",studentsOnStatus:"",noneMenbers:!1,noneStudents:!1,loading:!0,cachex510:0}},methods:{init:function(){var t=this;console.time("init"),void 0===this.$route.params.roomId&&this.$router.push({name:"curriculums"}),this.roomId=this.$route.params.roomId,this.fetchStudents(),this.util.Wss.connect(this.roomId),this.util.Wss.listen(function(e){console.time("listen");var s,n=(s=e.data,JSON.parse(s.match(/^42((\S|\s)*)/)[1]));if("cgi"==n[0]){if("0x6ff_0x510"==n[1].cmd){if(!0,null==n[1].data||void 0==h()(n[1].data))return t.cachex510>=5&&(t.noneMenbers=!0,t.members=null),void t.cachex510++;t.cachex510=0,t.noneMenbers=!1,t.members=n[1].data.msg_subcmd0x1_rsp_memberpage.rpt_msg_role_info}}else"push"==n[0]&&"0x3a4"==n[1].cmd&&(!0,t.msgTemp=n);console.timeEnd("listen")}),console.timeEnd("init")},sendData:function(){this.util.Wss.send('42["cgi",{"data":{"msg_body":{"msg_rich_text":{"msg_attr":{"uint32_char_set":0,"uint32_color":0,"uint32_effect":0,"uint32_pitch_and_family":0,"uint32_time":1588918463},"rpt_msg_elems":[{"msg_text":{"bytes_str":"'+this.sendMsg+'"},"uint32_elem_type":1},{"msg_add_info":{"str_nick_name":"32-黄传龙"},"uint32_elem_type":18}]}},"msg_content_head":{"uint32_div_seq":1588918463,"uint32_pkg_index":0,"uint32_pkg_num":1},"msg_routing_head":{"msg_edu":{"uint32_course_id":102344000}},"str_remark":"@SELF-1588918463931","uint32_label":0,"uint32_msg_rand":102344000,"uint32_msg_seq":1588918463,"uint32_uid_type":0,"uint32_role":0,"uint32_msg_type":0,"str_reply_msg_id":"","uint32_explain_type":0},"app_id":"tencentedu","room_id":102344000,"mod_id":"webclass","request_id":"0cf33603-135b-497a-b421-1fd1a6d809cd","seq":529,"cmd":"0x3a4"}]')},refreshMem:function(){this.util.Wss.flushMembers()},fetchStudents:function(){var t=this;console.time("fetchStudents"),this.util.Fetch.get(this.util.API.STUDENTS+this.roomId).then(function(e){""==e&&(t.noneStudents=!0),t.students=e,console.timeEnd("fetchStudents")})},checkOnline:function(){if(console.time("checkOnline"),this.noneMenbers)this.studentsOnStatus=this.studentsOnStatus.map(function(t){return t.status=!1,t});else if(""!=this.students){for(var t in this.studentsOnStatus){var e=!1;this.studentsOnStatus[t].uint32_login_type=0,this.studentsOnStatus[t].title="离线";var s=!0,n=!1,i=void 0;try{for(var a,o=d()(this.members);!(s=(a=o.next()).done);s=!0){var r=a.value;if(e=!1,-1!=r.str_nick_name.indexOf(this.studentsOnStatus[t].name)){var u=!1;for(var c in this.studentsOnStatus)t!=c&&-1!=r.str_nick_name.indexOf(this.studentsOnStatus[c].name)&&(u=!0);if(!u){e=!0,this.studentsOnStatus[t].uint32_login_type=r.uint32_login_type,r.uint32_login_type<0||r.uint32_login_type>5?this.studentsOnStatus[t].title="未知":0==r.uint32_login_type?this.studentsOnStatus[t].title="离线":1==r.uint32_login_type?this.studentsOnStatus[t].title="安卓客户端":2==r.uint32_login_type?this.studentsOnStatus[t].title="ios客户端":3==r.uint32_login_type?this.studentsOnStatus[t].title="pc浏览器":4==r.uint32_login_type?this.studentsOnStatus[t].title="pc客户端":5==r.uint32_login_type?this.studentsOnStatus[t].title="安卓浏览器":this.studentsOnStatus[t].title="未知";break}}}}catch(t){n=!0,i=t}finally{try{!s&&o.return&&o.return()}finally{if(n)throw i}}this.studentsOnStatus[t].status=e}console.timeEnd("checkOnline")}},onlinePerc:function(){return""==this.studentsOnStatus?0:Math.floor(this.studentsOnStatus.filter(function(t){return t.status}).length/this.studentsOnStatus.length*100)}},created:function(){this.init()},mounted:function(){var t=this;setTimeout(function(){t.refreshMem(),t.loading=!1},1e3);var e=setInterval(function(){t.refreshMem()},5e3);this.intervalList.push(e)},destroyed:function(){this.intervalList.forEach(function(t){return clearInterval(t)}),this.util.Wss.close()},watch:{msgTemp:function(t,e){this.msgs.push(t[1])},members:function(t,e){console.log("members update"),this.checkOnline()},students:function(t,e){if(console.time("students"),""!=t){this.studentsOnStatus=new Array;var s=!0,n=!1,i=void 0;try{for(var a,o=d()(t);!(s=(a=o.next()).done);s=!0){var r=a.value;r.status=!1,r.uint32_login_type=0,r.title="离线",this.studentsOnStatus.push(r)}}catch(t){n=!0,i=t}finally{try{!s&&o.return&&o.return()}finally{if(n)throw i}}console.timeEnd("students")}}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loading?s("div",{staticClass:"loader"},[t._m(0)]):s("div",[t.noneStudents?s("div",[s("div",{staticClass:"jumbotron"},[s("h3",[t._v("当前教室没有添加学生名单!请先添加!")]),t._v(" "),s("p",[s("a",{staticClass:"btn btn-primary btn-lg",attrs:{href:"#",role:"button"},on:{click:function(e){return e.preventDefault(),t.$router.push({name:"main"})}}},[t._v("返回主页")])])])]):s("div",[s("div",{staticStyle:{margin:"50px auto auto",width:"50%"}},[s("el-tag",{staticStyle:{"font-size":"18px","margin-bottom":"10px"},attrs:{type:"info"}},[t._v(t._s(t.noneMenbers?"无人":"在线"))]),s("el-progress",{attrs:{"text-inside":!0,"stroke-width":24,percentage:t.onlinePerc(),status:100==t.onlinePerc()?"success":t.onlinePerc()>=80?"warning":"exception"}})],1),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.members,expression:"members"}],attrs:{type:"hidden"},domProps:{value:t.members},on:{input:function(e){e.target.composing||(t.members=e.target.value)}}}),s("br"),t._v(" "),s("div",{attrs:{id:"app-cover"}},t._l(t.studentsOnStatus,function(e,n){return(n+1)%5==0||t.studentsOnStatus.length-1==n?s("div",{staticClass:"row"},t._l(t.studentsOnStatus.slice(t.studentsOnStatus.length-1!=n?n-4:n-(t.studentsOnStatus.length%5==0?4:t.studentsOnStatus.length%5-1),n+1),function(e,n){return s("div",{key:n,staticClass:"toggle-button-cover"},[s("div",{staticClass:"button-cover"},[s("div",{staticClass:"lay-name"},[s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(e.id)+"-"+t._s(e.name))])]),t._v(" "),s("div",{staticClass:"onlineStatus"},[s("img",{attrs:{id:"onlineStatusImg",title:e.title,src:"static/img/onlineStatus/status_"+(e.uint32_login_type<0||e.uint32_login_type>5?"6":e.uint32_login_type)+".png"}})]),t._v(" "),s("div",{staticClass:"button b2",attrs:{id:"button-11"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:!e.status,expression:"!student.status"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(!e.status)?t._i(!e.status,null)>-1:!e.status},on:{change:function(s){var n=!e.status,i=s.target,a=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&t.$set(!e,"status",n.concat([null])):o>-1&&t.$set(!e,"status",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(!e,"status",a)}}}),t._v(" "),t._m(1,!0),t._v(" "),s("div",{staticClass:"layer"})])])])}),0):t._e()}),0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"domino"},[e("div"),this._v(" "),e("div"),this._v(" "),e("div"),this._v(" "),e("div")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"knobs"},[e("span")])}]};var g=s("VU/8")(p,v,!1,function(t){s("+2zE")},"data-v-40e1ffc8",null).exports;var f={name:"curriculums",data:function(){return{curriculums:"",username:"",loading:!0}},methods:{fetchCurriculums:function(){var t=this,e=function(){for(var t=navigator.userAgent.split(" "),e="",s=0;s<t.length;s++)/chrome/i.test(t[s])&&(e=t[s]);return!!e&&Number(e.split("/")[1].split(".")[0])}();console.log(e),e<70&&alert("您使用的谷歌浏览器版本过低，为了更好地体验请将浏览器升级到最新版本！"),this.util.Fetch.post(this.util.API.CURRICULUMS,{username:this.username,password:this.password,version:e}).then(function(e){if(0!=e.retcode)return console.log("账号或密码不合格!"),void t.$router.push({name:"main",params:{msg:"账号或密码错误!",msgStatus:"2"}});console.log("username通过!"),t.loading=!1,t.curriculums=e})},init:function(){if(null==this.$route.params.loginMessage||void 0===this.$route.params.loginMessage||""==this.$route.params.loginMessage)void 0===this.$route.params.username||""==this.$route.params.username||void 0===this.$route.params.password||""==this.$route.params.password?this.$router.push({name:"main",params:{msg:"username或password不能为空!",msgStatus:"1"}}):(this.username=this.$route.params.username,this.password=this.$route.params.password,this.fetchCurriculums());else{var t=JSON.parse(this.$route.params.loginMessage.data);if(0!=t.retcode)return console.log("账号或密码不合格!"),void this.$router.push({name:"main",params:{msg:"账号或密码错误!",msgStatus:"2"}});this.loading=!1,this.curriculums=t}},pushById:function(t){this.$router.push({name:"seat",params:{roomId:t}})}},mounted:function(){this.init()}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loading?s("div",{staticClass:"loader"},[t._m(0)]):s("div",t._l(t.curriculums.result.map_list,function(e,n){return s("div",{key:n,staticClass:"CuContainer"},[s("div",{staticClass:"alert alert-info categoryTitle"},[t._v(t._s(e.industry3_name))]),t._v(" "),t._l(e.map_courses,function(e,n){return s("div",{key:e.room_id,staticClass:"card",on:{click:function(s){return t.pushById(e.room_id)}}},[s("div",{staticClass:"content"},[s("h2",[t._v(t._s(e.cname))]),t._v(" "),s("h3",[t._v(t._s(e.room_id))]),t._v(" "),s("h4",[t._v(t._s(e.agency_info.name)+":"),s("div",{domProps:{innerHTML:t._s(e.agency_info.summay)}})]),t._v(" "),s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.pushById(e.room_id)}}},[t._v("进入教室")])])])})],2)}),0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"domino"},[e("div"),this._v(" "),e("div"),this._v(" "),e("div"),this._v(" "),e("div")])}]};var w=s("VU/8")(f,_,!1,function(t){s("Eh1z")},"data-v-fe6b0cd4",null).exports;n.default.use(o.a);var C=new o.a({routes:[{path:"/",name:"main",component:c},{path:"/seat",name:"seat",component:g},{path:"/curriculums",name:"curriculums",component:w}]}),b=s("zL8q"),y=s.n(b),S=(s("tvR6"),"http://localhost:"+window.location.port+"/api/"),O={CURRICULUMS:S+"curriculums",STUDENTS:S+"students/",CHECKLOGIN:S+"checkLogin",LOGINCACHE:S+"getLoginCache"},x={getCookie:function(t){var e,s=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(s))?e[2]:null},setCookie:function(t,e,s){var n=new Date;n.setDate(n.getDate()+s),document.cookie=t+"="+escape(e)+(null==s?"":";expires="+n.toGMTString())},delCookie:function(t){var e=new Date;e.setTime(e.getTime()-1);var s=getCookie(t);null!=s&&(document.cookie=t+"="+s+";expires="+e.toGMTString())}},T=s("mtWM"),k=s.n(T);k.a.defaults.withCredentials=!0,k.a.interceptors.request.use(function(t){return t},function(t){return t}),k.a.interceptors.response.use(function(t){return t.data},function(t){return t.data});var M={get:function(t,e){return k()({url:t,method:"get",params:e,headers:{}})},post:function(t,e){return k()({url:t,method:"post",data:e,headers:{"Content-Type":"application/json"}})}},I=s("mvHQ"),E=s.n(I),$=window.localStorage,D=window.sessionStorage;$.set=function(t,e,s){var n={value:e,expiryTime:!s||isNaN(s)?0:this.getCurrentTimeStamp()+parseInt(s)};this[t]=E()(n)},$.get=function(t){var e=this[t];if(!e||"null"===e)return null;var s,n=this.getCurrentTimeStamp();try{s=JSON.parse(e)}catch(t){return null}return 0===s.expiryTime||s.expiryTime>n?s.value:null},$.remove=function(t){this.removeItem(t)},D.get=function(t){var e=this[t];return e&&"null"!==e?JSON.parse(e).value:null},D.set=function(t,e){var s={value:e};this[t]=E()(s)},D.remove=function(t){this.removeItem(t)};$.getCurrentTimeStamp=function(){return Date.parse(new Date)};var L={Local:$,Session:D};String.prototype.format=function(){if(0==arguments.length)return this;var t=arguments[0],e=this;if("object"==(void 0===t?"undefined":h()(t))){for(var s in t)e=e.replace(new RegExp("\\{"+s+"\\}","g"),t[s]);return e}for(var n=0;n<arguments.length;n++)e=e.replace(new RegExp("\\{"+n+"\\}","g"),arguments[n]);return e};var N=null,H=null,P={connect:function(t){N=new WebSocket("wss://ke.qq.com/impush/socket.io/?roomId={0}&appId=tencentedu&version=2&type=&role=&EIO=3&transport=websocket".format(t)),H=t,N.onopen=function(e){console.log("链接打开中..."),N.send('42["imconnect",{"cmd":"register","appId":"tencentedu","roomId":'+t+',"seq":0,"modId":"webclass"}]')}},listen:function(t){null!=N&&(N.onmessage=t)},close:function(){null!=N&&(N.onclose=function(t){console.log("链接关闭中...")})},send:function(t){null!=N&&N.send(t)},flushMembers:function(t){null!=H&&N.send('42["cgi",{"data":{"uint32_sub_cmd":1,"msg_subcmd0x1_req_memberpage":{"str_course_abs_id":"{0}","uint32_page_operation":0,"uint32_page_num":1,"uint32_need_special_user":1,"uint32_per_page_count":399,"uint32_version":1}},"app_id":"tencentedu","room_id":{0},"mod_id":"webclass","request_id":"6e293b00-dd16-4ae1-90b9-400ce1846b2c","seq":169,"cmd":"0x6ff_0x510"}]'.format(H))}},q=s("NYxO");n.default.use(q.a);var B=new q.a.Store({state:{test:"vuex"},mutations:{},actions:{},getters:{}}),A=s("xK8a"),R=s.n(A),U=(s("gMUd"),s("7t+N"),{render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"head"}})},staticRenderFns:[]});var z=s("VU/8")({data:function(){return{}},methods:{},created:function(){},mounted:function(){}},U,!1,function(t){s("l99R")},"data-v-7567d4c2",null).exports;R.a.options={closeButton:!0,debug:!0,progressBar:!0,positionClass:"toast-top-right",onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"3000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},n.default.use(y.a),n.default.config.productionTip=!1,n.default.prototype.util={API:O,Cookie:x,Fetch:M,Toastr:R.a,Local:L.Local,Session:L.Session,Wss:P},C.beforeEach(function(t,e,s){s()}),n.default.component("bcHead",z),new n.default({el:"#app",router:C,store:B,components:{App:a},template:"<App/>"})},Payv:function(t,e){},gMUd:function(t,e){},l99R:function(t,e){},tvR6:function(t,e){},xK8a:function(t,e,s){var n,i;s("LGuY"),n=[s("7t+N")],void 0===(i=function(t){return function(){function e(e,s){return e||(e=o()),(u=t("#"+e.containerId)).length?u:(s&&(u=function(e){return(u=t("<div/>").attr("id",e.containerId).addClass(e.positionClass).attr("aria-live","polite").attr("role","alert")).appendTo(t(e.target)),u}(e)),u)}function s(e){for(var s=u.children(),i=s.length-1;i>=0;i--)n(t(s[i]),e)}function n(e,s){return!(!e||0!==t(":focus",e).length||(e[s.hideMethod]({duration:s.hideDuration,easing:s.hideEasing,complete:function(){r(e)}}),0))}function i(t){c&&c(t)}function a(s){function n(e){return!t(":focus",h).length||e?(clearTimeout(_.intervalId),h[a.hideMethod]({duration:a.hideDuration,easing:a.hideEasing,complete:function(){r(h),a.onHidden&&"hidden"!==w.state&&a.onHidden(),w.state="hidden",w.endTime=new Date,i(w)}})):void 0}var a=o(),c=s.iconClass||a.iconClass;if(void 0!==s.optionsOverride&&(a=t.extend(a,s.optionsOverride),c=s.optionsOverride.iconClass||c),a.preventDuplicates){if(s.message===l)return;l=s.message}d++,u=e(a,!0);var m=null,h=t("<div/>"),p=t("<div/>"),v=t("<div/>"),g=t("<div/>"),f=t(a.closeHtml),_={intervalId:null,hideEta:null,maxHideTime:null},w={toastId:d,state:"visible",startTime:new Date,options:a,map:s};return s.iconClass&&h.addClass(a.toastClass).addClass(c),s.title&&(p.append(s.title).addClass(a.titleClass),h.append(p)),s.message&&(v.append(s.message).addClass(a.messageClass),h.append(v)),a.closeButton&&(f.addClass("toast-close-button").attr("role","button"),h.prepend(f)),a.progressBar&&(g.addClass("toast-progress"),h.prepend(g)),h.hide(),a.newestOnTop?u.prepend(h):u.append(h),h[a.showMethod]({duration:a.showDuration,easing:a.showEasing,complete:a.onShown}),a.timeOut>0&&(m=setTimeout(n,a.timeOut),_.maxHideTime=parseFloat(a.timeOut),_.hideEta=(new Date).getTime()+_.maxHideTime,a.progressBar&&(_.intervalId=setInterval(function(){var t=(_.hideEta-(new Date).getTime())/_.maxHideTime*100;g.width(t+"%")},10))),h.hover(function(){clearTimeout(m),_.hideEta=0,h.stop(!0,!0)[a.showMethod]({duration:a.showDuration,easing:a.showEasing})},function(){(a.timeOut>0||a.extendedTimeOut>0)&&(m=setTimeout(n,a.extendedTimeOut),_.maxHideTime=parseFloat(a.extendedTimeOut),_.hideEta=(new Date).getTime()+_.maxHideTime)}),!a.onclick&&a.tapToDismiss&&h.click(n),a.closeButton&&f&&f.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),n(!0)}),a.onclick&&h.click(function(){a.onclick(),n()}),i(w),a.debug&&console&&console.log(w),h}function o(){return t.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1},h.options)}function r(t){u||(u=e()),t.is(":visible")||(t.remove(),t=null,0===u.children().length&&(u.remove(),l=void 0))}var u,c,l,d=0,m={error:"error",info:"info",success:"success",warning:"warning"},h={clear:function(t){var i=o();u||e(i),n(t,i)||s(i)},remove:function(s){var n=o();return u||e(n),s&&0===t(":focus",s).length?void r(s):void(u.children().length&&u.remove())},error:function(t,e,s){return a({type:m.error,iconClass:o().iconClasses.error,message:t,optionsOverride:s,title:e})},getContainer:e,info:function(t,e,s){return a({type:m.info,iconClass:o().iconClasses.info,message:t,optionsOverride:s,title:e})},options:{},subscribe:function(t){c=t},success:function(t,e,s){return a({type:m.success,iconClass:o().iconClasses.success,message:t,optionsOverride:s,title:e})},version:"2.1.0",warning:function(t,e,s){return a({type:m.warning,iconClass:o().iconClasses.warning,message:t,optionsOverride:s,title:e})}};return h}()}.apply(e,n))||(t.exports=i)}},["NHnr"]);
//# sourceMappingURL=app.2b19c82c581fb63c81fe.js.map